# AI教师智慧备课系统后端实施计划

## 项目概述

本项目是AI教师智慧备课系统的后端部分，基于Spring Boot框架开发，使用Java 17版本。系统主要功能包括用户管理、课程管理、备课计划、资源库、AI助手和系统设置等模块。

## 技术栈

- **开发语言**：Java 17
- **框架**：Spring Boot 3.2.0
- **ORM**：MyBatis + Spring Data JPA
- **数据库**：MySQL
- **安全框架**：Spring Security
- **认证方式**：JWT (JSON Web Token)
- **API文档**：Swagger/OpenAPI
- **构建工具**：Maven

## 项目结构

项目采用分层架构设计，主要包含以下几个层次：

1. **实体层(entity)**：对应数据库表结构的Java对象
2. **DAO层(mapper)**：数据访问对象，负责与数据库交互
3. **Service层(service)**：业务逻辑层，处理具体业务逻辑
4. **Controller层(controller)**：控制器层，处理HTTP请求
5. **配置层(config)**：系统配置类
6. **工具类(util)**：通用工具类
7. **常量类(constant)**：系统常量定义
8. **异常处理(exception)**：自定义异常和全局异常处理
9. **DTO(dto)**：数据传输对象
10. **VO(vo)**：视图对象

## 实施步骤

### 1. 基础设施搭建（已完成）

- [x] 创建Spring Boot项目
- [x] 配置Maven依赖
- [x] 配置数据库连接
- [x] 配置Spring Security
- [x] 实现JWT认证
- [x] 全局异常处理

### 2. 用户模块实现

- [ ] 实现用户实体类
- [ ] 实现用户DAO层
- [ ] 实现用户Service层
- [ ] 实现用户Controller层
- [ ] 实现登录/注册接口
- [ ] 实现修改密码接口
- [ ] 实现用户个人信息接口

### 3. 课程管理模块实现

- [ ] 实现课程实体类
- [ ] 实现课程DAO层
- [ ] 实现课程Service层
- [ ] 实现课程Controller层
- [ ] 实现课程CRUD接口
- [ ] 实现课程统计分析接口

### 4. 备课计划模块实现

- [ ] 实现备课计划实体类
- [ ] 实现备课计划DAO层
- [ ] 实现备课计划Service层
- [ ] 实现备课计划Controller层
- [ ] 实现备课计划CRUD接口
- [ ] 实现AI生成备课内容接口
- [ ] 实现AI优化备课内容接口

### 5. 资源库模块实现

- [ ] 实现资源实体类
- [ ] 实现资源DAO层
- [ ] 实现资源Service层
- [ ] 实现资源Controller层
- [ ] 实现资源上传/下载接口
- [ ] 实现资源预览接口
- [ ] 实现资源收藏/评论接口

### 6. AI助手模块实现

- [ ] 实现AI助手使用记录实体类
- [ ] 实现AI助手使用记录DAO层
- [ ] 实现AI助手Service层
- [ ] 实现AI助手Controller层
- [ ] 实现发送消息接口

### 7. 系统设置模块实现

- [ ] 实现系统设置实体类
- [ ] 实现系统设置DAO层
- [ ] 实现系统设置Service层
- [ ] 实现系统设置Controller层
- [ ] 实现保存系统设置接口
- [ ] 实现重置系统设置接口
- [ ] 实现导出/导入系统设置接口
- [ ] 实现数据备份接口

### 8. 仪表盘模块实现

- [ ] 实现用户活动记录实体类
- [ ] 实现用户活动记录DAO层
- [ ] 实现用户活动记录Service层
- [ ] 实现仪表盘Controller层
- [ ] 实现获取仪表盘数据接口

### 9. 测试与优化

- [ ] 单元测试
- [ ] 集成测试
- [ ] 性能优化
- [ ] 安全性检查

### 10. 部署与上线

- [ ] 准备生产环境
- [ ] 配置数据库
- [ ] 部署应用
- [ ] 监控系统

## 开发指南

### 数据库设计

数据库设计已在`mysql.sql`文件中定义，包含以下表：

- `user`：用户表
- `course`：课程表
- `lesson_plan`：备课计划表
- `resource`：教学资源表
- `system_setting`：系统设置表
- `data_backup`：数据备份记录表
- `user_activity`：用户活动记录表
- `ai_assistant_usage`：AI助手使用记录表
- `resource_favorite`：资源收藏表
- `resource_comment`：资源评论表

### API接口设计

API接口设计已在以下文件中定义：

- `api_APP.md`：主应用接口
- `api_UserProfile.md`：用户个人信息接口
- `api_PasswordChange.md`：修改密码接口
- `api_Dashboard.md`：仪表盘接口
- `api_CourseManager.md`：课程管理接口
- `api_LessonPlanner.md`：备课计划接口
- `api_ResouceLibrary.md`：资源库接口
- `api_AIAssistant.md`：AI助手接口
- `api_systemSetting.md`：系统设置接口

### 开发规范

1. **命名规范**
   - 类名：使用大驼峰命名法，如`UserService`
   - 方法名：使用小驼峰命名法，如`getUserById`
   - 变量名：使用小驼峰命名法，如`userId`
   - 常量名：使用全大写下划线分隔，如`MAX_SIZE`

2. **代码规范**
   - 遵循阿里巴巴Java开发手册
   - 使用Lombok简化代码
   - 使用统一的返回格式`Result<T>`
   - 使用全局异常处理

3. **注释规范**
   - 类注释：说明类的用途
   - 方法注释：说明方法的功能、参数和返回值
   - 关键代码注释：说明复杂逻辑

4. **提交规范**
   - 每次提交前先拉取最新代码
   - 提交信息要清晰明了
   - 避免提交不必要的文件

## 注意事项

1. 所有接口返回统一使用`Result<T>`格式
2. 所有异常统一使用全局异常处理
3. 敏感信息（如密码）需要加密存储
4. 接口需要进行权限控制
5. 文件上传需要进行类型和大小限制
6. 数据库操作需要考虑性能问题
7. 代码提交前需要进行测试

## 后续计划

1. 完善API文档
2. 添加单元测试
3. 优化性能
4. 增加更多功能